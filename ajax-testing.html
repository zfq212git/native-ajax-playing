<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>ajax testing with node</title>
    <script type="text/javascript">
        function GetData(){
            var xhr=new XMLHttpRequest();
            
            xhr.onreadystatechange=function(){
                if(xhr.readyState==4){    //服务器反应完美结束
                    if(xhr.status==200){  //一切正常
                        document.getElementById("res").innerHTML=xhr.responseText;  //改变部分网页，但不重载或重定向。
                    }
                }
            }

            //open 和 send必须在上面的代码后面，以确保ajax的onreadystatechange先开始工作
            xhr.open("GET","http://127.0.0.1:8080",true);   
            xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');            
            xhr.send(null);
        }
    </script>
</head>
<body>
<input type="button" value="测试" onclick="GetData()" />
<div id="res">to be changed .......</div>
</body>
</html>